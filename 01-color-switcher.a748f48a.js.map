{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,YAKvC,IAAIC,EAASC,aAAaC,QAFH,WAE8B,IACjDC,EAAS,GACTC,EAAQC,KAAKC,MAAML,aAAaC,QANtB,UAMyC,G,IAC3CK,EAAZ,IAAIC,EAA+C,QAAvCD,EAAAF,KAAKC,MAAML,aAAaC,QANtB,gBAMqC,IAAvCK,IAA2C,GACvD,MAAME,EAAM,CACV,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAGT,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EAC3BP,GAAU,kCAAkCO,YAiD9C,SAASC,EAAYC,GAEnB,OADeH,EAAII,MAAKC,GAAOA,EAAIC,OAAMC,GAASJ,EAAIK,SAASD,M,CAIjE,SAASE,IACPrB,EAAQsB,UAAYhB,EACpBF,aAAamB,QACbpB,EAAS,IACTQ,EAAQ,GACRJ,EAAQ,E,CAxDVP,EAAQwB,mBAAmB,YAAalB,GAExCN,EAAQyB,iBAAiB,SAEzB,SAAiBC,GACf,IAAKA,EAAIC,OAAOC,YAAa,CAC3B,MAAMC,EAAKC,OAAOJ,EAAIC,OAAOI,QAAQF,IAErC,GAAe,MAAX1B,EAAgB,CAClBI,EAAMyB,KAAKH,GACXzB,aAAa6B,QAjCL,OAiCoBzB,KAAK0B,UAAU3B,IAC3C,MAAM4B,EAAWrB,EAAYP,GAE7B,GADAmB,EAAIC,OAAOC,YAAczB,EACJ,IAAjBI,EAAM6B,OAKR,OAJAtC,EAAAuC,OAAOC,QAAQ,aACfC,YAAW,KACTlB,GAAO,GACN,KAGL,GAAIc,EAKF,OAJArC,EAAAuC,OAAOG,QAAQ,GAAGrC,oBAClBoC,YAAW,KACTlB,GAAO,GACN,I,KAGA,CACLV,EAAMqB,KAAKH,GACXzB,aAAa6B,QAnDL,OAmDoBzB,KAAK0B,UAAUvB,IAC3C,MAAMwB,EAAWrB,EAAYH,GAE7B,GADAe,EAAIC,OAAOC,YAAczB,EACrBgC,EAKF,OAJArC,EAAAuC,OAAOG,QAAQ,GAAGrC,oBAClBoC,YAAW,KACTlB,GAAO,GACN,I,CAKPlB,EAAoB,MAAXA,EAAiB,IAAM,IAChCC,aAAa6B,QA/DM,SA+DkB9B,E,KAgBxC,WACC,IACE,IAAIH,EAAQyC,UAAUC,SAAQC,IAC5B,MAAMd,EAAKC,OAAOa,EAAKZ,QAAQF,IAC3BtB,EAAMa,SAASS,GACjBc,EAAKf,YAAc,IACVjB,EAAMS,SAASS,KACxBc,EAAKf,YAAc,IAAG,G,CAG1B,MAAOgB,GACPC,QAAQC,IAAI,qB,CAEf,CAbA","sources":["src/js/01-color-switcher.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst content = document.querySelector('.content');\nconst KEY_X = 'keyX';\nconst KEY_O = 'keyO';\nconst CURRENT_PLAYER = 'player';\n\nlet player = localStorage.getItem(CURRENT_PLAYER) || 'X';\nlet markup = '';\nlet stepX = JSON.parse(localStorage.getItem(KEY_X)) || [];\nlet stepO = JSON.parse(localStorage.getItem(KEY_O)) ?? [];\nconst win = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  [1, 5, 9],\n  [3, 5, 7],\n];\n\nfor (let i = 1; i <= 9; i += 1) {\n  markup += `<div class = \"item\" data-id = '${i}'></div>`;\n}\n\ncontent.insertAdjacentHTML('beforeend', markup);\n\ncontent.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (!evt.target.textContent) {\n    const id = Number(evt.target.dataset.id);\n\n    if (player === 'X') {\n      stepX.push(id);\n      localStorage.setItem(KEY_X, JSON.stringify(stepX));\n      const isWinner = checkWinner(stepX);\n      evt.target.textContent = player;\n      if (stepX.length === 5) {\n        Notify.warning('Draw');\n        setTimeout(() => {\n          reset();\n        }, 1000);\n        return;\n      }\n      if (isWinner) {\n        Notify.success(`${player}, isWinner`);\n        setTimeout(() => {\n          reset();\n        }, 1000);\n        return;\n      }\n    } else {\n      stepO.push(id);\n      localStorage.setItem(KEY_O, JSON.stringify(stepO));\n      const isWinner = checkWinner(stepO);\n      evt.target.textContent = player;\n      if (isWinner) {\n        Notify.success(`${player}, isWinner`);\n        setTimeout(() => {\n          reset();\n        }, 1000);\n        return;\n      }\n    }\n\n    player = player === 'X' ? 'O' : 'X';\n    localStorage.setItem(CURRENT_PLAYER, player);\n  }\n}\n\nfunction checkWinner(arr) {\n  const result = win.some(val => val.every(value => arr.includes(value)));\n  return result;\n}\n\nfunction reset() {\n  content.innerHTML = markup;\n  localStorage.clear();\n  player = 'X';\n  stepO = [];\n  stepX = [];\n}\n(function () {\n  try {\n    [...content.children].forEach(item => {\n      const id = Number(item.dataset.id);\n      if (stepX.includes(id)) {\n        item.textContent = 'X';\n      } else if (stepO.includes(id)) {\n        item.textContent = 'O';\n      }\n    });\n  } catch (e) {\n    console.log('localStorage empty');\n  }\n})();\n"],"names":["$iQIUW","parcelRequire","$f00cafd61c2e1654$var$content","document","querySelector","$f00cafd61c2e1654$var$player","localStorage","getItem","$f00cafd61c2e1654$var$markup","$f00cafd61c2e1654$var$stepX","JSON","parse","$f00cafd61c2e1654$var$ref","$f00cafd61c2e1654$var$stepO","$f00cafd61c2e1654$var$win","i","$f00cafd61c2e1654$var$checkWinner","arr","some","val","every","value","includes","$f00cafd61c2e1654$var$reset","innerHTML","clear","insertAdjacentHTML","addEventListener","evt","target","textContent","id","Number","dataset","push","setItem","stringify","isWinner","length","Notify","warning","setTimeout","success","children","forEach","item","e","console","log"],"version":3,"file":"01-color-switcher.a748f48a.js.map"}